<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
</head>
<body>    

<p>
    <a href = "fork.html">fork.html</a>
</p>

<p>
    <a href = "editor.php">editor.php</a>
</p>

<p>
    <a id = "seedlink"></a>
</p>
<table>
    <tr>
        <td>Replicator url:</td>
        <td><input id = "replicatorinput"/></td>
    </tr>
    <tr>
        <td>Page Name:</td>
        <td><input id = "nameinput"/></td>
    </tr>
</table>
<div id = "linkbutton" class = "button">MAKE LINK</div>

<script>


//is_local = true;
is_local = false;

if(is_local){
    var httpc = new XMLHttpRequest();
    httpc.onreadystatechange = function() {
        if (this.readyState == 4 && this.status == 200) {
            ipaddress = this.responseText;
            document.getElementById("ipaddress").innerHTML = ipaddress;
        }
    };
    httpc.open("GET", "ipaddress.php", true);
    httpc.send();    
    
}

document.getElementById("linkbutton").onclick = function(){
    pagename = document.getElementById("nameinput").value;
    replicatorurl = document.getElementById("replicatorinput").value;
    url = "seed.php?replicatorurl=" + replicatorurl +"&pagename=" + pagename; 
    document.getElementById("seedlink").href = url;
    document.getElementById("seedlink").innerHTML = url;
    
}

</script>
<style>
body{
    font-family:courier;
    font-size:3em;
}
a{
    color:#0000ff;
}
td{
    font-size:20px;
    text-align:center;
}
.button{
    border:solid;
    border-radius:5px;
    cursor:pointer;
    width:10em;
    text-align:center;
}
.button:hover{
    background-color:green;
}
.button:active{
    background-color:yellow;
}
</style>
</body>
</html>