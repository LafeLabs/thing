<!doctype html>
<html lang="en">    
<head>
     <meta charset="utf-8"/>

    <!--Stop Google:-->
    <META NAME="robots" CONTENT="noindex,nofollow">

    <script src="jscode/geometron.js"></script>

<!--
    this is how shape table editor should be, totally focused on 3 rows, with symbols in a tablet that is automatically saved
-->
</head>
<body> 
<div id = "keyboardbox">
    <canvas id = "keyboard"></canvas>
</div>
<p><a href  = "index.html">index.html</a></p>


<script>

keyboardshapes = [
    "0220:0331,0333,0337,0200,0316,0336,0314,0336,0330,0332,0337,0313,0337,0332,01330,0330,0332,0336,0314,0336,0330,0337,0314,0313,0337,01200,0332,0333,0331,0336,0314,0336,0331,0333,0331,0314,0337,0316,0337,0332,0313,0336,0336,0330,0333,0336,0331,0332,0337,0141,0365,0330,0330,0101,0365,0331,0331,0333,0333,0333,0336,0331,0333,0337,0337,0330,0332,",
    "0221:0331,0333,0337,0200,0316,0336,0314,0336,0330,0332,0337,0313,0337,0332,",
    "0222:0330,0332,0336,0314,0336,0330,0337,0314,0313,0337,",
    "0223:0332,0333,0331,0336,0314,0336,0331,0333,0331,0314,0337,0316,0337,0332,0313,0336,0336,0330,0333,0336,0331,0332,0337,",
    "0224:0365,0330,0330,",
    "0225:0365,0331,0331,0333,0333,0333,0336,0331,0333,0337,0337,0330,0332,",
    "0226:0333,0333,0336,0336,0333,0337,0337,",
    "0227:0331,0331,0336,0336,0331,0337,0337,",
    "0237:0221,01330,0222,01200,0223,0141,0224,0101,0225,",
    "01220:0333,0200,0336,0330,0332,0331,0330,0220,0331,0333,0337,",
    "01221:0333,0200,0336,0330,0332,0336,0331,0332,0337,061,0365,0333,0336,0331,0333,0337,0337,",
    "01222:0333,0200,0336,0330,0332,0336,0331,0332,0337,062,0365,0333,0336,0331,0333,0337,0337,",
    "01223:0333,0200,0336,0330,0332,0336,0331,0332,0337,063,0365,0333,0336,0331,0333,0337,0337,",
    "01224:0333,0200,0336,0330,0332,0336,0331,0332,0337,064,0365,0333,0336,0331,0333,0337,0337,",
    "01225:0333,0200,0336,0330,0332,0336,0331,0332,0337,065,0365,0333,0336,0331,0333,0337,0337,",
    "01226:0333,0200,0336,0330,0332,0335,0336,0201,0335,0335,0350,0335,0342,0334,0334,0342,0335,0335,0335,0304,0331,0331,0333,0337,0337,",
    "01227:0333,0200,0336,0330,0332,0335,0335,0336,0201,0335,0335,0350,0334,0342,0335,0335,0342,0334,0304,0331,0333,0333,0337,0337,",
    "01230:0333,0200,",
    "01231:0333,0200,",
    "01232:0333,0200,",
    "01233:0333,0200,",
    "01234:0333,0200,",
    "01235:0333,0200,",
    "01236:0333,0200,",
    "01237:0333,0200,0336,0330,0332,0237,0331,0333,0337,"
];

lc = ["`1234567890-=","qwertyuiop[]\\","asdfghjkl;\'","zxcvbnm,./"];
uc = ["~!@#$%^&*()_+","QWERTYUIOP{}|","ASDFGHJKL:\"","ZXCVBNM<>?"];


currentKeyCode = 0141;

var mainGVM = new GVM(document.getElementById("keyboard"),1200,370);
mainGVM.x0 = 50;
mainGVM.y0 = 55;
mainGVM.unit = 37;


var httpc = new XMLHttpRequest();
httpc.onreadystatechange = function(){
    if (this.readyState == 4 && this.status == 200) {
        var localhypercube = JSON.parse(this.responseText);
        mainGVM.importbytecode(localhypercube);
        mainGVM.importbytecode(keyboardshapes);
        mainGVM.drawGlyph("0300,");
        redraw();
    }
};
httpc.open("GET", "fileloader.php?filename=data/hypercube.txt", true);
httpc.send();


function redraw(){
    for(var row = 0;row < lc.length;row++){
        for(var col = 0;col < lc[row].length;col++){
            upperkey = "0" + (uc[row].charCodeAt(col)).toString(8);
            lowerkey = "0" + (lc[row].charCodeAt(col)).toString(8);
        
            uppersymbol = "0" + (parseInt(mainGVM.hypercube[uc[row].charCodeAt(col)],8)+01000).toString(8);
            lowersymbol = (parseInt(mainGVM.hypercube[lc[row].charCodeAt(col)],8)+01000).toString(8);
            if(lowerkey == "0134"){
                console.log("\\")
            }
//            console.log(upperkey + "," + lowerkey + "," + uppersymbol + "," + uppersymbol + ",");
            
            mainGVM.actionSequence("0221," + lowersymbol + ",0222," + uppersymbol + ",0223," + lowerkey + ",0224," + upperkey + ",0225,0226,");
        }
        if(row == 0){
            mainGVM.actionSequence("0227,0336,0332,0337,0332,0332,0332,0332,0332,0332,0332,0332,0332,0332,0332,0332,0332,0332,0332,0332,0332,0332,0332,0332,0332,0332,0332,0332,0332,0332,");
        }
        if(row == 1){
            mainGVM.actionSequence("0227,0336,0332,0332,0332,0337,0332,0332,0332,0332,0332,0332,0332,0332,0332,0332,0332,0332,0332,0332,0332,0332,0332,0332,0332,0332,0332,0332,0332,0332,0332,0332,0332,");
        }        
        if(row == 2){
            mainGVM.actionSequence("0227,0336,0332,0332,0332,0337,0332,0332,0332,0332,0332,0332,0332,0332,0332,0332,0332,0332,0332,0332,0332,0332,0332,0332,0332,0332,0332,0332,");            
        }
    }
}




</script>
<style>
.button{
    cursor:pointer;
}
.button:hover{
    background-color: green;
}
.button:active{
    background-color: yellow;
}
tr{
    text-align:right;
}
table{
    border:solid;
    width:50px;
    height:50px;
}
canvas{

border:solid;
}
#symbolbox{
    position:absolute;
    right:0px;
    top:0px;
    background-color:#ffafaf;
}
#keybox{
    font-size:5em;
}
#buttontable{
    border:none;
}
#buttontable .button{
    border:solid;
    text-align:center;
}
</style>
</body>
</html>